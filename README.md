# 课前须知

## 课程主页
[链接1](http://staff.ustc.edu.cn/~ypb/)
http://staff.ustc.edu.cn/~ypb/（这个可能会崩溃）
[链接2](https://git.ustc.edu.cn/ypb/course)
https://git.ustc.edu.cn/ypb/course（建议用这个）

## 关于课程和评分

- [x] 有实验，第六周开始，共五次，前四次为基础了解实验，最后一次为综合实验，交一次实验报告。

- [x] 期末考试百分之60，平时分百分之20，实验百分之20，人少时会点名。

# 第一章.绪论

## 1.1引言:略（属于数据管理的最新技术）
> 计算机应用的三个方面:科学计算，数据管理，过程控制。

***墨天轮数据库调查报告（2022）
83.4%的企业正在使用中国的数据库产品。企业当前使用中国数据库的情况(10%以上)
达梦数据库20.4%~~（貌似第五个实验用这个数据库会加分？）~~
华为云 GaussDB17.8%
阿里云 PolarDB17.3%
OceanBase 16.4%
openGauss 16.1%
TiDB 13.4%
腾讯云TDSQL11%***

#### 1.1.1数据库系统等相关概念

- 数据（Data）
> 数据是信息的符号记录。数据是数据库处理和研究的对象。
- 数据库（Database）
> 长期存储在计算机内，有组织的、可共享的相关数据的集合。
- 数据库管理系统（DBMS）
> 位于用户和操作系统之间的一层数据管理软件。
- 数据库系统（DBS)
> 计算机硬件为基础的记录保持系统。包括数据库、数据库管理系统、应用系统、管理员和用户，有时还包括计算机硬件。

#### 1.1.2数据库系统发展历程（略）

||阶段|人工|文件系统|数据库系统|
|----|----|----|----|----|
|背景|时间|20世纪50年代末|60年代中期|60年代末|
||应用背景|/|科学计算、管理|大规模管理|
||硬件背景|无直接存储设备|磁盘、磁鼓|大容量磁盘|
||软件背景|无0S|有文件系统|有DBMS|
||处理方式|批处理|联机和批处理|联机和批处理|
|特点|数据管理者|人|文件系统|DBMS|
||数据面向对象|/|某一应用程序|现实世界|
||数据共享程度|无，冗余大|共享性差，冗余较大|共享性高冗余小|
||数据独立性|无|独立性差（无逻辑)|有高度独立性|
||数据结构化|无|记录有结构，整体无|结构化：数据模型描述|
||数据控制能力|/|应用程序控制|DBMS保护：安全性、完整性、并发控制、数据恢复|

#### 1.1.3数据库技术的研究领域

- 数据库管理系统软件的研制（面向对象、多媒体数据库等）
- 数据库设计（设计方法学和设计工具、数据模型与建模、设计规范与标准）
- 数据库理论（规范化理论）
   
#### 1.1.4* 数据库系统的特点

- 数据的结构化
- 数据的共享性好、冗余度低
- 数据的独立性高：物理、逻辑。
-数据由DBMS统一管理
    > 数据的安全性（Security)
    > 数据的完整性（Integrity)
    > 并发控制（Concurrency)
    > 数据库恢复（Recovery）
- 良好的用户接口

#### 1.1.5* 数据库在信息科学中的应用

- 三个世界

|现实世界|信息世界|计算机世界|
|----|----|----|
|实体(Entity)<br>实体集|实体记录(Record)<br>记录集|数据(Data)<br>数据集|
|特征<br>特征值<br>特征取值范围|属性(Atribute)<br>属性值<br>属性值域|数据项（属性）<br>数据项值<br>数据项值域|

## 1.2数据模型

数据的组织是数据库技术的核心问题
数据库的数据组织是通过数据模型来实现的
数据模型是创建数据库维护数据库的方式,是数据库系统定义数据内容和数据间联系的方法
数据模型的定义：表示实体类型和实体间联系的模型称数据模型

> 数据模型的两个层次: 
> > 概念（数据）模型:
> > - 也称信息模型。用来描述信息结构，又称实体联系模型（ER)
> > - 按照用户观点对信息建模

> >（结构）数据模型:
> > - 面向数据库的逻辑结构，直接涉及到计算机系统和DBMS，又称为（基本）数据模型
> > - 按照计算机系统的观点对数据建模

### 1.2.1概念模型
- 实体联系模型（Entity Relationship Model，简记ER模型）
> - 直接从现实世界中抽象出实体和实体间联系，然后用实体联系图（ER图）表示信息模型
> - ER模型实际是信息世界的模型。
- ER图的四个组成部分
> - 矩形框：实体型
> - 菱形框：联系
> - 椭圆框：实体型和联系的属性
> - 直线：连接实体类型和联系类理，表示联系的种类

### 1.2.2结构模型的要素
数据结构:
- 用于描述系统的静态特征。
- 是对实体类型和实体间联系的表达和实现，命名依据。

数据操作:
- 是用于描述系统的动态特征。
- 是对数据库检索和更新（插入、修改、删除）两类操作。

数据的约束条件：
- 一组完整性规则的集合。
- 给出数据及其联系所具有的制约和依赖原则。

数据模型的三个方面要求:
- 比较真实模拟真实世界
- 容易为人所理解
- 便于计算机实现

### 1.2.3（结构）数据模型
结构数据模型主要有三种
- 层次模型、网状模型、关系模型
- 未来可发展：对象模型、语义模型

非关系模型中的数据结构的单位是基本层次联系。所谓基本层次联系是指的两个记录以及它们之间的一对多（包括一对一）的联系。

#### 1.2.3.1层次模型
典型代表：IBM1968年的IMS

定义
- 用树型（层次）结构表示实体类型·及实体间联系的数据模型

数据结构特点
- 有且仅有一个结点无双亲，该结点是根结点
- 其他结点有且仅有一个双亲
- 层次模型中每个结点（片断）表示一个记录类型
- 每个记录类型包含若干个字段，字段有字段名、数据类型和长度等

数据操纵与完整性约束
- 插入时，没有双亲结点不能插入子女结点
- 删除时，删除双亲结点要同时删除子女结点
- 更新时，要更新所有相应的记录

存储结构
- 邻接法链接法

优点
- 模型本身简单。
- 实体间联系是固定的，预先设计好的应用系统,性能优于关系型，不低于网状模型。
- 层次模型提供了良好的完整性支持。

缺点
- 实现多对多关系时，需要采用冗余或虚结点方式,易形成不一致性。
- 对插入和删除操作限制较多。
- 查询子结点需通过双亲结点。
- 结构严谨，层次命令趋于程序化。

#### 1.2.3.2网状模型
典型代表
- DBTG (DataBase Task Group）开发系统
- HP公司的IMAGE/3000
- Honeywll 公司的IDS/I1
- Univac公司的DMS1100等

定义
- 用有向图（网络）结构表示实体类型及实体间联系的数据模型。（networkmodel)

数据结构特征
- 允许一个以上的结点无双亲
- 至少一个结点不止一个双亲

数据操纵与完整性约束
- 插入时，允许插入未确定双亲结点的子女结点值
- 删除时，允许只删除双亲结点值
- 更新时，只需更新指定记录

存储结构
- 常用链接法
- 其它如引元阵列法、二进制阵列法、索引法等

优点
- 更加直接描述现实世界
- 存取效率高，性能好

缺点
- 结构复杂，不利于用户掌握，DDL、DML语言复杂
- 数据独立性差

#### 1.2.3.3关系模型
定义
- 用表格表示实体集和实体间联系，用外键来实现关系间的联系（Relation model)

数据结构特征
- 在用户看来，一个关系模型的逻辑结构就是一张二维表；
- 必须使用规范化的关系，如分量是原子的;
- 不仅实体用关系表示，实体间的联系也用关系表示

术语
- 关系（relation）：一个关系对应通常一张表记做R
- 元组（Tuple）：表中的一行（V1，V2..Vn)
- 字段（field）：表中的一列A1，A2.…...An
- 域（Domain）：属性的取值范围
- 分量：元组中的一个属性的取值
- 关系模式：是记录型。对关系的描述，关系模式的实例是一个关系。关系模式的描述包括：关系名、属性名、属性类型、属性长度、主键包含的属性等，记做：R（U，D，DOM,F)
- 关系数据库模式：一组关系模式的总称即关系数据库模式，简称模式。
- 候选键（Candidate Key）：在给定的关系中,有这样的属性或最小属性组，它在不同的元组中的值是不同的，利用这个（些）值可以唯一地标示关系中地元组，则称该属性（组）为候选键。
- 主码（键）（Primary key）：候选键可能不止一个，被指定正在使用地候选键称主键。
- 超键（Super Key）：能唯一标识元组的属性
集。超键包括所有候选键。
- 组合键与全键：当主键不是单一的属性时称组
合键，组合键包括所有属性时称全键。
- 外部键（Foreign Key）：关系模式R中的属性集是其它关系模式的主键，那么该属性集对关系模式R而言是外键。
- 主属性和非主属性：包含在任一候选键中的属性叫主属性，否则称非主属性。

